{% extends "base.html" %}
{% load static %}

{% block title %}Upload Thesis â€¢ Refero{% endblock %}

{% block content %}
<div class="bg-gray-50 min-h-screen py-8">
  <div class="max-w-3xl mx-auto px-4">
    <div class="mb-8">
      <h1 class="text-gray-900 mb-2">Upload Thesis</h1>
      <p class="text-gray-600">Submit your thesis to the Refero library</p>
    </div>

    <form method="post" enctype="multipart/form-data" class="bg-white rounded-lg shadow-sm p-6 space-y-6">
      {% csrf_token %}

      <div>
        <label class="block text-gray-700 mb-2">Thesis Title <span class="text-red-500">*</span></label>
        <input type="text" name="title" class="input" placeholder="Enter the thesis title" required />
      </div>

      <div>
        <label class="block text-gray-700 mb-2">Authors <span class="text-red-500">*</span></label>
        <input type="text" name="authors" class="input" placeholder="Separate multiple authors with commas" required />
        <p class="text-gray-500 text-sm mt-1">Example: Juan Dela Cruz, Maria Santos</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-gray-700 mb-2">Program <span class="text-red-500">*</span></label>
          <input type="text" name="program" class="input" placeholder="e.g., MS Computer Science" required />
        </div>
        <div>
          <label class="block text-gray-700 mb-2">College <span class="text-red-500">*</span></label>
          <select name="college" class="select" required>
            <option value="">Select College</option>
            <option value="science">College of Science</option>
            <option value="engineering">College of Engineering</option>
            <option value="arts">College of Arts and Letters</option>
            <option value="business">College of Business</option>
            <option value="agriculture">College of Agriculture</option>
            <option value="education">College of Education</option>
          </select>
        </div>
      </div>

      <div>
        <label class="block text-gray-700 mb-2">Tags</label>
        <input type="text" name="tags" class="input" placeholder="AI, Machine Learning, Agriculture" />
        <p class="text-gray-500 text-sm mt-1">Separate tags with commas</p>
      </div>

      <div>
        <label class="block text-gray-700 mb-2">Upload PDF <span class="text-red-500">*</span></label>
        <input type="file" name="file" accept=".pdf" class="file" required />
      </div>

      <div class="flex justify-end space-x-4">
        <button type="reset" class="btn btn-muted">Clear</button>
        <button type="submit" class="btn btn-primary">Upload Thesis</button>
      </div>
    </form>

    <div class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4">
      <p class="text-blue-900 mb-2">Django Implementation Notes:</p>
      <ul class="text-blue-700 text-sm space-y-1">
        <li>Use {% verbatim %}{% csrf_token %}{% endverbatim %} inside the form tag</li>
        <li>Handle file upload in Django view with request.FILES</li>
        <li>Validate user authentication with @login_required decorator</li>
        <li>Store uploaded files in MEDIA_ROOT directory</li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}


